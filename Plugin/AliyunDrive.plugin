#!name=阿里云盘
#!desc=解锁阿里云盘本地会员权限，帧彩视界/音频模式，阿里云盘token获取，阿里云盘定时签到。
#!author=阿群
#!icon=https://raw.githubusercontent.com/Softlyx/Fileball/main/YUAN/ALiYun.png

[Rewrite]
# 阿里云盘本地会员
https:\/\/api\.(aliyundrive|alipan)\.com\/apps\/v2\/users\/home\/widgets - reject-dict
https://api.aliyundrive.com/apps/v1/users/home/news - reject-200
https:\/\/api\.alipan\.com\/business\/v1.0\/users\/coupon\/detail - reject-200
https:\/\/member\.alipan\.com\/v1\/users\/onboard_list - reject-200
https:\/\/member\.aliyundrive\.com\/v2\/activity\/sign_in_luckyBottle - reject

[Script]
# 阿里云盘本地会员
http-response https:\/\/api\.(aliyundrive|alipan)\.com\/apps\/v1\/users\/apps\/welcome script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.(aliyundrive|alipan)\.com\/v2\/databox\/get_personal_info script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.(aliyundrive|alipan)\.com\/business\/v1.0\/users\/vip\/info script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/member\.(aliyundrive|alipan)\.com\/v1\/users\/tools script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.(aliyundrive|alipan)\.com\/business\/v1\/users\/me\/vip\/info script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.(aliyundrive|alipan)\.com\/business\/v1.1\/users\/me\/vip\/info script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.(aliyundrive|alipan)\.com\/apps\/v1\/users\/home\/widgets script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.(aliyundrive|alipan)\.com\/adrive\/v1\/app\/logos script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.(aliyundrive|alipan)\.com\/adrive\/v2\/user\/get script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.(aliyundrive|alipan)\.com\/business\/v1.0\/users\/feature\/list script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.(aliyundrive|alipan)\.com\/business\/v1.0\/users\/feature\/trial script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.(aliyundrive|alipan)\.com\/v2\/file\/get_video_preview_play_info script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.(aliyundrive|alipan)\.com\/adrive\/v2\/batch script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/member\.alipan\.com\/v2\/activity\/sign_in_info script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/member\.aliyundrive\.com\/v2\/activity\/sign_in_list script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/member\.alipan\.com\/v1\/users\/me script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.alipan\.com\/adrive\/v1\/timeline\/user\/get script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

http-response https:\/\/api\.alipan\.com\/apps\/v1\/users\/home\/recent script-path=https://raw.githubusercontent.com/xiaomaoJT/QxScript/main/rewrite/boxJS/source/alic.js, requires-body=true, timeout=60, tag=alic

# 阿里云盘token获取

http-request ^https:\/\/(auth|aliyundrive)\.alipan\.com\/v2\/account\/token script-path=https://raw.githubusercontent.com/zqzess/rule_for_quantumultX/master/js/Mine/aDriveCheckIn/aDriveCheckIn.js, requires-body=true, timeout=10, enabled=true, tag=阿里网盘token获取
# 阿里云盘定时签到

cron "12 0 * * *" script-path=https://raw.githubusercontent.com/zqzess/rule_for_quantumultX/master/js/Mine/aDriveCheckIn/aDriveCheckIn.js, tag=阿里云盘签到

[MITM]
hostname = api.aliyundrive.com, member.aliyundrive.com, api.alipan.com, member.alipan.com, auth.alipan.com
